"use strict"
function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),_mauiWidget=function(){function e(){_classCallCheck(this,e),this.initEvents()}return _createClass(e,[{key:"isNull",value:function(e){return void 0===e||null===e}},{key:"initEvents",value:function(){var e=this
this.isNull(window)||window.addEventListener("message",function(i){var t=i.data.type
"string"==typeof t&&("video.currentTime"===t?void 0!==e._cbVideoCurrentTime&&null!==e._cbVideoCurrentTime&&(e._cbVideoCurrentTime(),e._cbVideoCurrentTime=null):"video.duration"===t||("device.info"===t?e.__callBackGetDeviceInfo&&e.__callBackGetDeviceInfo({sn:i.data.sn,mac:i.data.mac}):e.trigger(t,i.data)))},!1)}},{key:"addEventListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){console.warn("not funod callback function",e)}
if("string"!=typeof e)throw'parma1 type only "string"'
return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].indexOf(i)<=-1&&this.listeners[e].push(i),this}},{key:"removeEventListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
if(null!==e){this.listenrs[e].indexOf(i)>=0&&this.listeners[e].slic}return this}},{key:"trigger",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(void 0!==this.listeners[e]){var t=this.listeners[e]
if(void 0!==t&&Array.isArray(t)){var n=!0,r=!1,o=void 0
try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){(0,s.value)(Object.assign({},i,{type:e}))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}}return this}},{key:"parentTrigger",value:function(e,i){return this.isNull(window)?this:(void 0!==window&&void 0!==window.parent&&void 0!==window.parent.postMessage&&window.parent.postMessage({type:e,data:i},"*"),this)}},{key:"getDeviceInfo",value:function(e){return this.parentTrigger("device.info"),this.__callBackGetDeviceInfo=e,this}},{key:"videoPlay",value:function(e){return this.parentTrigger("video.play",{src:e}),this}},{key:"videoStop",value:function(){this.parentTrigger("video.stop")}},{key:"videoResume",value:function(){this.parentTrigger("video.resume")}},{key:"videoPause",value:function(){this.parentTrigger("video.pause")}},{key:"videoGetCurrentTime",value:function(e){this._cbVideoCurrentTime=e,this.parentTrigger("video.currentTime.get")}},{key:"videoSetCurrentTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0
this.parentTrigger("video.currentTime.set",{currentTime:e})}},{key:"videoGetDuration",value:function(e){this.parentTrigger("video.duration")}},{key:"listeners",get:function(){return void 0!==this.mEventListenerList&&null!==this.mEventListenerList||(this.mEventListenerList={}),this.mEventListenerList}}]),e}(),$mw=new _mauiWidget
"undefined"!=typeof module&&void 0!==module.exports?module.exports=$mw:"function"==typeof define&&define.amd?define([],function(){return $mw}):window.$mw=$mw
